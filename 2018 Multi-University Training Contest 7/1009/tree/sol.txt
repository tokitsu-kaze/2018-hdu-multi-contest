首先树分块（那种不保证复杂度的都行），我们维护这几个东西
a[i]就是题目中的a[i]
cnt[i]当前节点跳多少步才能到下个块
b[i]当前节点跳cnt[i]步后到哪个节点，就是下一块的第一个节点是什么
修改的时候，暴力扫自己块里面所有节点，如果这个节点要经过x的话就直接修改cnt
然后修改cnt[x]和nxt[x]，就维护完了所有东西
